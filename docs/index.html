<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Really, Really, Ridiculously Fast I/O, Transformation, and Analytical Routines Twitter Data • tweetio</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Really, Really, Ridiculously Fast I/O, Transformation, and Analytical Routines Twitter Data">
<meta property="og:description" content="
    `{tweetio}` has three goals: 1) efficiently read Twitter data into R from multiple 
    sources, 2) provide the building blocks for robust analytical pipelines that use 
    network, spatial, and/or natural language processing perspectives, and 3) write Twitter
    data to multiple file formats, including those that best enable non-technical analysts 
    to work. The primary data structure is inspired by `{rtweet}`, and 
    all analytical routines being compatible with `{rtweet}` data frames is heavily
    prioritized.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140885143-4"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-140885143-4');
</script>
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tweetio</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://twitter.com/knapply_">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/knapply/tweetio">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="tweetio" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#tweetio" class="anchor"></a><code>{tweetio}</code>
</h1></div>
<!-- README.Rmd generates README.md. -->
<!-- badges: start -->

<!-- [![R build status](https://github.com/knapply/tweetio/workflows/R-CMD-check/badge.svg)](https://github.com/knapply/tweetio/actions?workflow=R-CMD-check) -->
</div>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p><code>{tweetio}</code>’s goal is to enable safe, efficient I/O and transformation of Twitter data. Whether the data came from the Twitter API, a database dump, or some other source, <code>{tweetio}</code>’s job is to get them into R and ready for analysis.</p>
<p><code>{tweetio}</code> is <strong>not</strong> a competitor to <a href="https://rtweet.info/"><code>{rtweet}</code></a>: it is not interested in collecting Twitter data. That said, it definitely attempts to compliment it by emulating its data frame schema because…</p>
<ol>
<li>It’s incredibly easy to use.</li>
<li>It’s more efficient to analyze than a key-value format following the raw data.</li>
<li>It’d be a waste not to maximize compatibility with tools built specifically around <code>{rtweet}</code>’s data frames.</li>
</ol>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>You’ll need a C++ compiler. If you’re using Windows, that means <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span>(<span class="st">"remotes"</span>, <span class="dt">quietly =</span> <span class="ot">TRUE</span>)) <span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"remotes"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_github.html">install_github</a></span>(<span class="st">"knapply/tweetio"</span>)</span></code></pre></div>
</div>
<div id="usage" class="section level1">
<h1 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tweetio)</span></code></pre></div>
<p><code>{tweetio}</code> uses <a href="https://rdatatable.gitlab.io/data.table/"><code>{data.table}</code></a> internally for performance and stability reasons, but if you’re a <a href="https://www.tidyverse.org/"><code>{tidyverse}</code></a> fan who’s accustomed to dealing with <code>tibble</code>s, you can set an option so that <code>tibble</code>s are <em>always</em> returned.</p>
<p>Because <code>tibble</code>s have an incredibly informative and user-friendly <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> method, we’ll set the option for examples. Note that if the <code>{tibble}</code> package is not installed, this option is ignored.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(<span class="dt">tweetio.as_tibble =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p>You can check on all available <code>{tweetio}</code> options using <code><a href="reference/tweetio_options.html">tweetio_options()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="reference/tweetio_options.html">tweetio_options</a></span>()</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">#&gt; $tweetio.as_tibble</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt; </span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt; $tweetio.verbose</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<!-- # What's New? -->
<!-- ## Easy Access to Twitter-disclosed Information Operations Archives -->
<!-- ```{r} -->
<!-- io_campaign_metadata -->
<!-- ``` -->
<div id="simple-example" class="section level2">
<h2 class="hasAnchor">
<a href="#simple-example" class="anchor"></a>Simple Example</h2>
<p>First, we’ll save a stream of tweets using <code><a href="https://rdrr.io/pkg/rtweet/man/stream_tweets.html">rtweet::stream_tweets()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>temp_file &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span>(<span class="dt">fileext =</span> <span class="st">".json"</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/stream_tweets.html">stream_tweets</a></span>(<span class="dt">timeout =</span> <span class="dv">15</span>, <span class="dt">parse =</span> <span class="ot">FALSE</span>,</span>
<span id="cb6-3"><a href="#cb6-3"></a>                      <span class="dt">file_name =</span> temp_file)</span></code></pre></div>
<p>We can then pass the file path to <code><a href="reference/read_tweets.html">tweetio::read_tweets()</a></code> to efficiently parse the data into an <code>{rtweet}</code>-style data frame.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>tiny_rtweet_stream &lt;-<span class="st"> </span><span class="kw"><a href="reference/read_tweets.html">read_tweets</a></span>(temp_file)</span>
<span id="cb7-2"><a href="#cb7-2"></a>tiny_rtweet_stream</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co">#&gt; # A tibble: 673 x 93</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">#&gt;    user_id status_id created_at          screen_name text  source reply_to_status… reply_to_user_id reply_to_screen… is_quote is_retweet hashtags</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt;     &lt;dttm&gt;              &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;            &lt;lgl&gt;    &lt;lgl&gt;      &lt;list&gt;  </span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">#&gt;  1 111362… 12281364… 2020-02-14 01:58:34 koankitune  RT @… Twitt… &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             FALSE    TRUE       &lt;chr [2…</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">#&gt;  2 951770… 12281364… 2020-02-14 01:58:34 huntanacon… @240… Twitt… 122813639390323… 951770277603565… huntanaconda     FALSE    FALSE      &lt;chr [1…</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">#&gt;  3 948509… 12281364… 2020-02-14 01:58:34 fahad__650  @fai… Twitt… 122809170470157… 331000792        faisalaljafan    FALSE    FALSE      &lt;chr [1…</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt;  4 112756… 12281364… 2020-02-14 01:58:34 _harrystyl… @int… Twitt… 122813616814494… 122293944303378… intensodemierd   FALSE    FALSE      &lt;chr [1…</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt;  5 898906… 12281364… 2020-02-14 01:58:34 kashunco2   RT @… Twitt… &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             FALSE    TRUE       &lt;chr [1…</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt;  6 254312… 12281364… 2020-02-14 01:58:34 deinertdl   VAI … Twitt… &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             FALSE    FALSE      &lt;chr [1…</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt;  7 970449… 12281364… 2020-02-14 01:58:34 _samisosa   RT @… Twitt… &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             FALSE    TRUE       &lt;chr [1…</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt;  8 984421… 12281364… 2020-02-14 01:58:34 iceskate_s… お出かけ… Twitt… &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             FALSE    FALSE      &lt;chr [1…</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt;  9 817513… 12281364… 2020-02-14 01:58:34 its_destin… RT @… Twitt… &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             FALSE    TRUE       &lt;chr [1…</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">#&gt; 10 177414… 12281364… 2020-02-14 01:58:34 canderson8… RT @… Twitt… &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             FALSE    TRUE       &lt;chr [1…</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; # … with 663 more rows, and 81 more variables: urls_expanded_url &lt;list&gt;, media_url &lt;list&gt;, media_expanded_url &lt;list&gt;, media_type &lt;list&gt;,</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt; #   mentions_user_id &lt;list&gt;, mentions_screen_name &lt;list&gt;, lang &lt;chr&gt;, quoted_status_id &lt;chr&gt;, quoted_text &lt;chr&gt;, quoted_created_at &lt;dttm&gt;,</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt; #   quoted_source &lt;chr&gt;, quoted_favorite_count &lt;int&gt;, quoted_retweet_count &lt;int&gt;, quoted_user_id &lt;chr&gt;, quoted_screen_name &lt;chr&gt;, quoted_name &lt;chr&gt;,</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; #   quoted_followers_count &lt;int&gt;, quoted_friends_count &lt;int&gt;, quoted_statuses_count &lt;int&gt;, quoted_location &lt;chr&gt;, quoted_description &lt;chr&gt;,</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt; #   quoted_verified &lt;lgl&gt;, retweet_status_id &lt;chr&gt;, retweet_text &lt;chr&gt;, retweet_created_at &lt;dttm&gt;, retweet_source &lt;chr&gt;,</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt; #   retweet_favorite_count &lt;int&gt;, retweet_retweet_count &lt;int&gt;, retweet_user_id &lt;chr&gt;, retweet_screen_name &lt;chr&gt;, retweet_name &lt;chr&gt;,</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">#&gt; #   retweet_followers_count &lt;int&gt;, retweet_friends_count &lt;int&gt;, retweet_statuses_count &lt;int&gt;, retweet_location &lt;chr&gt;, retweet_description &lt;chr&gt;,</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt; #   retweet_verified &lt;lgl&gt;, place_url &lt;chr&gt;, place_name &lt;chr&gt;, place_full_name &lt;chr&gt;, place_type &lt;chr&gt;, country &lt;chr&gt;, country_code &lt;chr&gt;,</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">#&gt; #   bbox_coords &lt;list&gt;, status_url &lt;chr&gt;, name &lt;chr&gt;, location &lt;chr&gt;, description &lt;chr&gt;, url &lt;chr&gt;, protected &lt;lgl&gt;, followers_count &lt;int&gt;,</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#&gt; #   friends_count &lt;int&gt;, listed_count &lt;int&gt;, statuses_count &lt;int&gt;, favourites_count &lt;int&gt;, account_created_at &lt;dttm&gt;, verified &lt;lgl&gt;,</span></span>
<span id="cb8-24"><a href="#cb8-24"></a><span class="co">#&gt; #   profile_url &lt;chr&gt;, account_lang &lt;chr&gt;, profile_banner_url &lt;chr&gt;, profile_image_url &lt;chr&gt;, is_retweeted &lt;lgl&gt;, retweet_place_url &lt;chr&gt;,</span></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co">#&gt; #   retweet_place_name &lt;chr&gt;, retweet_place_full_name &lt;chr&gt;, retweet_place_type &lt;chr&gt;, retweet_country &lt;chr&gt;, retweet_country_code &lt;chr&gt;,</span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">#&gt; #   retweet_bbox_coords &lt;list&gt;, quoted_place_url &lt;chr&gt;, quoted_place_name &lt;chr&gt;, quoted_place_full_name &lt;chr&gt;, quoted_place_type &lt;chr&gt;,</span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="co">#&gt; #   quoted_country &lt;chr&gt;, quoted_country_code &lt;chr&gt;, quoted_bbox_coords &lt;list&gt;, timestamp_ms &lt;dttm&gt;, contributors_enabled &lt;lgl&gt;,</span></span>
<span id="cb8-28"><a href="#cb8-28"></a><span class="co">#&gt; #   retweet_status_url &lt;chr&gt;, quoted_tweet_url &lt;chr&gt;, reply_to_status_url &lt;chr&gt;</span></span></code></pre></div>
</div>
<div id="performance" class="section level2">
<h2 class="hasAnchor">
<a href="#performance" class="anchor"></a>Performance</h2>
<p><code><a href="https://rdrr.io/pkg/rtweet/man/parse_stream.html">rtweet::parse_stream()</a></code> is totally sufficient for smaller files (as long as the returned data are valid JSON), but <code><a href="reference/read_tweets.html">tweetio::read_tweets()</a></code> is <em>much</em> faster.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>small_rtweet_stream &lt;-<span class="st"> "inst/example-data/api-stream-small.json.gz"</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a>res &lt;-<span class="st"> </span>bench<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/bench/man/mark.html">mark</a></span>(</span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="dt">rtweet =</span> rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/parse_stream.html">parse_stream</a></span>(small_rtweet_stream),</span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="dt">tweetio =</span> tweetio<span class="op">::</span><span class="kw"><a href="https://knapply.github.io/tweetio/reference/read_tweets.html">read_tweets</a></span>(small_rtweet_stream)</span>
<span id="cb9-6"><a href="#cb9-6"></a>  ,</span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="dt">check =</span> <span class="ot">FALSE</span>,</span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="dt">filter_gc =</span> <span class="ot">FALSE</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>)</span>
<span id="cb9-10"><a href="#cb9-10"></a></span>
<span id="cb9-11"><a href="#cb9-11"></a>res[, <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>]</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">#&gt; # A tibble: 2 x 6</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co">#&gt; 1 rtweet         1.2s     1.2s     0.830    39.1MB    11.6 </span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co">#&gt; 2 tweetio      52.9ms   54.8ms    17.9       1.9MB     1.99</span></span></code></pre></div>
<p>With bigger files, using <code><a href="https://rdrr.io/pkg/rtweet/man/parse_stream.html">rtweet::parse_stream()</a></code> is no longer realistic, especially if the JSON are invalid.</p>
<p>That’s one of the situations where <code><a href="reference/read_tweets.html">tweetio::read_tweets()</a></code> can be extremely helpful.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>big_tweet_stream_path &lt;-<span class="st"> "inst/example-data/ufc-tweet-stream.json.gz"</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a>temp_file &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span>(<span class="dt">fileext =</span> <span class="st">".json"</span>)</span>
<span id="cb11-4"><a href="#cb11-4"></a>R.utils<span class="op">::</span><span class="kw">gunzip</span>(big_tweet_stream_path, <span class="dt">destname =</span> temp_file, <span class="dt">remove =</span> <span class="ot">FALSE</span>)</span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="st">"- compressed:"</span>, <span class="kw"><a href="https://rdrr.io/r/base/file.info.html">file.size</a></span>(big_tweet_stream_path) <span class="op">/</span><span class="st"> </span><span class="fl">1e6</span>, <span class="st">"MB</span><span class="ch">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">#&gt; - compressed: 71.9539 MB</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="st">"- decompressed:"</span>, <span class="kw"><a href="https://rdrr.io/r/base/file.info.html">file.size</a></span>(temp_file) <span class="op">/</span><span class="st"> </span><span class="fl">1e6</span>, <span class="st">"MB</span><span class="ch">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co">#&gt; - decompressed: 681.1141 MB</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>res &lt;-<span class="st"> </span>bench<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/bench/man/mark.html">mark</a></span>(</span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="dt">rtweet =</span> rtweet_df &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/parse_stream.html">parse_stream</a></span>(big_tweet_stream_path),</span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="dt">tweetio =</span> tweetio_df &lt;-<span class="st"> </span>tweetio<span class="op">::</span><span class="kw"><a href="https://knapply.github.io/tweetio/reference/read_tweets.html">read_tweets</a></span>(big_tweet_stream_path)</span>
<span id="cb15-4"><a href="#cb15-4"></a>  ,</span>
<span id="cb15-5"><a href="#cb15-5"></a>  <span class="dt">filter_gc =</span> <span class="ot">FALSE</span>,</span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="dt">check =</span> <span class="ot">FALSE</span>,</span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="dt">iterations =</span> <span class="dv">1</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>)</span>
<span id="cb15-9"><a href="#cb15-9"></a></span>
<span id="cb15-10"><a href="#cb15-10"></a>res[, <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>]</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co">#&gt; # A tibble: 2 x 6</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co">#&gt; 1 rtweet        3.34m    3.34m   0.00499    6.75GB    1.77 </span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co">#&gt; 2 tweetio       9.04s    9.04s   0.111    234.76MB    0.332</span></span></code></pre></div>
<p>Not only is <code><a href="reference/read_tweets.html">tweetio::read_tweets()</a></code> more efficient, it’s able to successfully parse much more of the data (99,422 vs 99,422 rows).</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="st">`</span><span class="dt">names&lt;-</span><span class="st">`</span>(<span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(rtweet_df), <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"nrow"</span>, <span class="st">"ncol"</span>))</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co">#&gt;  nrow  ncol </span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt; 58459    90</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="st">`</span><span class="dt">names&lt;-</span><span class="st">`</span>(<span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(tweetio_df), <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"nrow"</span>, <span class="st">"ncol"</span>))</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co">#&gt;  nrow  ncol </span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="co">#&gt; 99422    93</span></span></code></pre></div>
</div>
<div id="data-dumps" class="section level2">
<h2 class="hasAnchor">
<a href="#data-dumps" class="anchor"></a>Data Dumps</h2>
<p>A common practice for handling social media data at scale is to store them in search engine databases like Elasticsearch, but it’s (unfortunately) possible that you’ll need to work with data dumps.</p>
<p>I’ve encountered two flavors of these schema (that may be in .gzip files or ZIP archives):</p>
<ol>
<li>.jsonl: newline-delimited JSON</li>
<li>.json: the complete contents of a database dump packed in a JSON array</li>
</ol>
<p>This has three unfortunate consequences:</p>
<ol>
<li>Packages that were purpose-built to work directly with <code>{rtweet}</code>’s data frames can’t play along with your data.</li>
<li>You’re going to waste most of your time (and memory) getting data into R that you’re not going to use.</li>
<li>The data are <em>very</em> tedious to restructure in R (lists of lists of lists of lists of lists…).</li>
</ol>
<p><code>{tweetio}</code> solves this by parsing everything and building the data frames at the C++ level. It even takes care of decompression of compressed data fro you.</p>
</div>
</div>
<div id="spatial-tweets" class="section level1">
<h1 class="hasAnchor">
<a href="#spatial-tweets" class="anchor"></a>Spatial Tweets</h1>
<p>If you have <code>{sf}</code> installed, you can use <code><a href="reference/as_tweet_sf.html">as_tweet_sf()</a></code> to only keep those tweets that contain valid bounding box polygons or points.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>tweet_sf &lt;-<span class="st"> </span><span class="kw"><a href="reference/as_tweet_sf.html">as_tweet_sf</a></span>(tweetio_df)</span>
<span id="cb21-2"><a href="#cb21-2"></a>tweet_sf[, <span class="st">"geometry"</span>]</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co">#&gt; Simple feature collection with 1804 features and 0 fields</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co">#&gt; geometry type:  POLYGON</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co">#&gt; dimension:      XY</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co">#&gt; bbox:           xmin: -158.048 ymin: -50.35726 xmax: 175.5507 ymax: 61.4262</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="co">#&gt; epsg (SRID):    4326</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="co">#&gt; proj4string:    +proj=longlat +datum=WGS84 +no_defs</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="co">#&gt; # A tibble: 1,804 x 1</span></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="co">#&gt;                                                                                        geometry</span></span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="co">#&gt;                                                                                   &lt;POLYGON [°]&gt;</span></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="co">#&gt;  1 ((-90.23761 29.96836, -90.23761 30.03413, -90.11965 30.03413, -90.11965 29.96836, -90.237...</span></span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="co">#&gt;  2 ((-80.20811 26.08094, -80.20811 26.2198, -80.09024 26.2198, -80.09024 26.08094, -80.20811...</span></span>
<span id="cb22-12"><a href="#cb22-12"></a><span class="co">#&gt;  3 ((17.08005 59.73069, 17.08005 60.18611, 18.47324 60.18611, 18.47324 59.73069, 17.08005 59...</span></span>
<span id="cb22-13"><a href="#cb22-13"></a><span class="co">#&gt;  4 ((-80.51985 39.7198, -80.51985 42.51607, -74.68952 42.51607, -74.68952 39.7198, -80.51985...</span></span>
<span id="cb22-14"><a href="#cb22-14"></a><span class="co">#&gt;  5 ((-80.34364 25.59918, -80.34364 25.64553, -80.2875 25.64553, -80.2875 25.59918, -80.34364...</span></span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="co">#&gt;  6 ((-118.6684 33.70454, -118.6684 34.33704, -118.1554 34.33704, -118.1554 33.70454, -118.66...</span></span>
<span id="cb22-16"><a href="#cb22-16"></a><span class="co">#&gt;  7 ((-122.0662 37.92423, -122.0662 38.02242, -121.931 38.02242, -121.931 37.92423, -122.0662...</span></span>
<span id="cb22-17"><a href="#cb22-17"></a><span class="co">#&gt;  8 ((-118.4485 33.97688, -118.4485 34.03514, -118.3695 34.03514, -118.3695 33.97688, -118.44...</span></span>
<span id="cb22-18"><a href="#cb22-18"></a><span class="co">#&gt;  9 ((-97.66262 27.57851, -97.66262 27.89579, -97.20223 27.89579, -97.20223 27.57851, -97.662...</span></span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="co">#&gt; 10 ((-118.6684 33.70454, -118.6684 34.33704, -118.1554 34.33704, -118.1554 33.70454, -118.66...</span></span>
<span id="cb22-20"><a href="#cb22-20"></a><span class="co">#&gt; # … with 1,794 more rows</span></span></code></pre></div>
<p>There are currently four columns that can potentially hold spatial geometries:</p>
<ol>
<li><code>"bbox_coords"</code></li>
<li><code>"quoted_bbox_coords"</code></li>
<li><code>"retweet_bbox_coords"</code></li>
<li><code>"geo_coords"</code></li>
</ol>
<p>You can select which one to use to build your <code>sf</code> object by modifying the <code>geom_col=</code> parameter (default: <code>"bbox_coords"</code>)</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw"><a href="reference/as_tweet_sf.html">as_tweet_sf</a></span>(tweetio_df,</span>
<span id="cb23-2"><a href="#cb23-2"></a>            <span class="dt">geom_col =</span> <span class="st">"quoted_bbox_coords"</span>)[, <span class="st">"geometry"</span>]</span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co">#&gt; Simple feature collection with 736 features and 0 fields</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="co">#&gt; geometry type:  POLYGON</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co">#&gt; dimension:      XY</span></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="co">#&gt; bbox:           xmin: -124.849 ymin: -27.76744 xmax: 153.3179 ymax: 60.29791</span></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="co">#&gt; epsg (SRID):    4326</span></span>
<span id="cb24-6"><a href="#cb24-6"></a><span class="co">#&gt; proj4string:    +proj=longlat +datum=WGS84 +no_defs</span></span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="co">#&gt; # A tibble: 736 x 1</span></span>
<span id="cb24-8"><a href="#cb24-8"></a><span class="co">#&gt;                                                                                        geometry</span></span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="co">#&gt;                                                                                   &lt;POLYGON [°]&gt;</span></span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="co">#&gt;  1 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="co">#&gt;  2 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-12"><a href="#cb24-12"></a><span class="co">#&gt;  3 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-13"><a href="#cb24-13"></a><span class="co">#&gt;  4 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-14"><a href="#cb24-14"></a><span class="co">#&gt;  5 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="co">#&gt;  6 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-16"><a href="#cb24-16"></a><span class="co">#&gt;  7 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-17"><a href="#cb24-17"></a><span class="co">#&gt;  8 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-18"><a href="#cb24-18"></a><span class="co">#&gt;  9 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-19"><a href="#cb24-19"></a><span class="co">#&gt; 10 ((-73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.99354 40.75075, -73.993...</span></span>
<span id="cb24-20"><a href="#cb24-20"></a><span class="co">#&gt; # … with 726 more rows</span></span></code></pre></div>
<p>You can also build <em>all</em> the supported bounding boxes by setting <code>geom_col=</code> to <code>"all"</code>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>all_bboxes &lt;-<span class="st"> </span><span class="kw"><a href="reference/as_tweet_sf.html">as_tweet_sf</a></span>(tweetio_df, <span class="dt">geom_col =</span> <span class="st">"all"</span>)</span>
<span id="cb25-2"><a href="#cb25-2"></a>all_bboxes[, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"which_geom"</span>, <span class="st">"geometry"</span>)]</span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co">#&gt; Simple feature collection with 5107 features and 1 field</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="co">#&gt; geometry type:  POLYGON</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="co">#&gt; dimension:      XY</span></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="co">#&gt; bbox:           xmin: -158.048 ymin: -50.35726 xmax: 175.5507 ymax: 61.4262</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="co">#&gt; epsg (SRID):    4326</span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="co">#&gt; proj4string:    +proj=longlat +datum=WGS84 +no_defs</span></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="co">#&gt; # A tibble: 5,107 x 2</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="co">#&gt;    which_geom                                                                                      geometry</span></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="co">#&gt;    &lt;chr&gt;                                                                                      &lt;POLYGON [°]&gt;</span></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="co">#&gt;  1 bbox_coords ((-90.23761 29.96836, -90.23761 30.03413, -90.11965 30.03413, -90.11965 29.96836, -90.237...</span></span>
<span id="cb26-11"><a href="#cb26-11"></a><span class="co">#&gt;  2 bbox_coords ((-80.20811 26.08094, -80.20811 26.2198, -80.09024 26.2198, -80.09024 26.08094, -80.20811...</span></span>
<span id="cb26-12"><a href="#cb26-12"></a><span class="co">#&gt;  3 bbox_coords ((17.08005 59.73069, 17.08005 60.18611, 18.47324 60.18611, 18.47324 59.73069, 17.08005 59...</span></span>
<span id="cb26-13"><a href="#cb26-13"></a><span class="co">#&gt;  4 bbox_coords ((-80.51985 39.7198, -80.51985 42.51607, -74.68952 42.51607, -74.68952 39.7198, -80.51985...</span></span>
<span id="cb26-14"><a href="#cb26-14"></a><span class="co">#&gt;  5 bbox_coords ((-80.34364 25.59918, -80.34364 25.64553, -80.2875 25.64553, -80.2875 25.59918, -80.34364...</span></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="co">#&gt;  6 bbox_coords ((-118.6684 33.70454, -118.6684 34.33704, -118.1554 34.33704, -118.1554 33.70454, -118.66...</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="co">#&gt;  7 bbox_coords ((-122.0662 37.92423, -122.0662 38.02242, -121.931 38.02242, -121.931 37.92423, -122.0662...</span></span>
<span id="cb26-17"><a href="#cb26-17"></a><span class="co">#&gt;  8 bbox_coords ((-118.4485 33.97688, -118.4485 34.03514, -118.3695 34.03514, -118.3695 33.97688, -118.44...</span></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="co">#&gt;  9 bbox_coords ((-97.66262 27.57851, -97.66262 27.89579, -97.20223 27.89579, -97.20223 27.57851, -97.662...</span></span>
<span id="cb26-19"><a href="#cb26-19"></a><span class="co">#&gt; 10 bbox_coords ((-118.6684 33.70454, -118.6684 34.33704, -118.1554 34.33704, -118.1554 33.70454, -118.66...</span></span>
<span id="cb26-20"><a href="#cb26-20"></a><span class="co">#&gt; # … with 5,097 more rows</span></span></code></pre></div>
<p>From there, you can easily use the data like any other <code>{sf}</code> object.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</span>
<span id="cb27-2"><a href="#cb27-2"></a></span>
<span id="cb27-3"><a href="#cb27-3"></a>world &lt;-<span class="st"> </span>rnaturalearth<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rnaturalearth/man/ne_countries.html">ne_countries</a></span>(<span class="dt">returnclass =</span> <span class="st">"sf"</span>)</span>
<span id="cb27-4"><a href="#cb27-4"></a>world &lt;-<span class="st"> </span>world[world<span class="op">$</span>continent <span class="op">!=</span><span class="st"> "Antarctica"</span>, ]</span>
<span id="cb27-5"><a href="#cb27-5"></a></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(all_bboxes) <span class="op">+</span></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="dt">fill =</span> <span class="st">"white"</span>, <span class="dt">color =</span> <span class="st">"lightgray"</span>, <span class="dt">data =</span> world) <span class="op">+</span></span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">fill =</span> which_geom, <span class="dt">color =</span> which_geom), </span>
<span id="cb27-9"><a href="#cb27-9"></a>          <span class="dt">alpha =</span> <span class="fl">0.15</span>, <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">show.legend =</span> <span class="ot">TRUE</span>) <span class="op">+</span></span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span>(<span class="dt">crs =</span> <span class="dv">3857</span>) <span class="op">+</span></span>
<span id="cb27-11"><a href="#cb27-11"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_d</a></span>() <span class="op">+</span></span>
<span id="cb27-12"><a href="#cb27-12"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span>() <span class="op">+</span></span>
<span id="cb27-13"><a href="#cb27-13"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">legend.title =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span>(), <span class="dt">legend.position =</span> <span class="st">"top"</span>,</span>
<span id="cb27-14"><a href="#cb27-14"></a>        <span class="dt">panel.background =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span>(<span class="dt">fill =</span> <span class="st">"#daf3ff"</span>))</span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-16-1.png" style="display: block; margin: auto;"></p>
</div>
<div id="tweet-networks" class="section level1">
<h1 class="hasAnchor">
<a href="#tweet-networks" class="anchor"></a>Tweet Networks</h1>
<p>If you want to analyze tweet networks and have <code>{igraph}</code> or <code>{network}</code> installed, you can get started immediately using <code><a href="reference/as_tweet_igraph.html">tweetio::as_tweet_igraph()</a></code> or <code><a href="reference/as_tweet_network.html">tweetio::as_tweet_network()</a></code>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>tweet_df &lt;-<span class="st"> </span>tweetio_df[<span class="dv">1</span><span class="op">:</span><span class="fl">1e4</span>, ]</span>
<span id="cb28-2"><a href="#cb28-2"></a></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="kw"><a href="reference/as_tweet_igraph.html">as_tweet_igraph</a></span>(tweet_df)</span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co">#&gt; IGRAPH d166c43 DN-- 6265 16373 -- </span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="co">#&gt; + attr: name (v/c), status_id (e/c), relation (e/c)</span></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="co">#&gt; + edges from d166c43 (vertex names):</span></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="co">#&gt;  [1] 340165454          -&gt;44607937            50229830           -&gt;146322653           1113359075029295106-&gt;6446742            </span></span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="co">#&gt;  [4] 3427037277         -&gt;6446742             2426567863         -&gt;6446742             1049130232559620096-&gt;6446742            </span></span>
<span id="cb29-6"><a href="#cb29-6"></a><span class="co">#&gt;  [7] 54342307           -&gt;45882011            850484615978602496 -&gt;6446742             3223860438         -&gt;1082759930338258944</span></span>
<span id="cb29-7"><a href="#cb29-7"></a><span class="co">#&gt; [10] 1128691062225219584-&gt;327117944           158942796          -&gt;1148290116349095936 421186669          -&gt;1062738433716686848</span></span>
<span id="cb29-8"><a href="#cb29-8"></a><span class="co">#&gt; [13] 781608484257214464 -&gt;6446742             2519063076         -&gt;146322653           361935609          -&gt;6446742            </span></span>
<span id="cb29-9"><a href="#cb29-9"></a><span class="co">#&gt; [16] 822180925467398148 -&gt;32522055            1107856314875695105-&gt;166751745           766650582409109505 -&gt;39349894           </span></span>
<span id="cb29-10"><a href="#cb29-10"></a><span class="co">#&gt; [19] 1401244394         -&gt;146322653           1161588424488341504-&gt;1160955424297721858 1095592508095119366-&gt;6446742            </span></span>
<span id="cb29-11"><a href="#cb29-11"></a><span class="co">#&gt; [22] 468454269          -&gt;6446742             3151950054         -&gt;29275869            38842139           -&gt;1062738433716686848</span></span>
<span id="cb29-12"><a href="#cb29-12"></a><span class="co">#&gt; + ... omitted several edges</span></span></code></pre></div>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw"><a href="reference/as_tweet_network.html">as_tweet_network</a></span>(tweet_df)</span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="co">#&gt;   vertices = 6265 </span></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="co">#&gt;   directed = TRUE </span></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="co">#&gt;   loops = TRUE </span></span>
<span id="cb31-6"><a href="#cb31-6"></a><span class="co">#&gt;   multiple = TRUE </span></span>
<span id="cb31-7"><a href="#cb31-7"></a><span class="co">#&gt;   bipartite = FALSE </span></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="co">#&gt;   total edges= 16373 </span></span>
<span id="cb31-9"><a href="#cb31-9"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb31-10"><a href="#cb31-10"></a><span class="co">#&gt;     non-missing edges= 16373 </span></span>
<span id="cb31-11"><a href="#cb31-11"></a><span class="co">#&gt; </span></span>
<span id="cb31-12"><a href="#cb31-12"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb31-13"><a href="#cb31-13"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb31-14"><a href="#cb31-14"></a><span class="co">#&gt; </span></span>
<span id="cb31-15"><a href="#cb31-15"></a><span class="co">#&gt;  Edge attribute names not shown</span></span></code></pre></div>
<p>If you want to take advantage of all the metadata available, you can set <code>all_status_data</code> and/or <code>all_user_data</code> to <code>TRUE</code></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw"><a href="reference/as_tweet_igraph.html">as_tweet_igraph</a></span>(tweet_df,</span>
<span id="cb32-2"><a href="#cb32-2"></a>                <span class="dt">all_user_data =</span> <span class="ot">TRUE</span>, <span class="dt">all_status_data =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co">#&gt; IGRAPH e2c9281 DN-- 6265 16373 -- </span></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="co">#&gt; + attr: name (v/c), timestamp_ms (v/n), name.y (v/c), screen_name (v/c), location (v/c), description (v/c), url (v/c), protected</span></span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="co">#&gt; | (v/l), followers_count (v/n), friends_count (v/n), listed_count (v/n), statuses_count (v/n), favourites_count (v/n),</span></span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="co">#&gt; | account_created_at (v/n), verified (v/l), profile_url (v/c), account_lang (v/c), profile_banner_url (v/c), profile_image_url (v/c),</span></span>
<span id="cb33-5"><a href="#cb33-5"></a><span class="co">#&gt; | bbox_coords (v/x), status_id (e/c), relation (e/c), created_at (e/n), text (e/c), status_url (e/c), source (e/c), is_quote (e/l),</span></span>
<span id="cb33-6"><a href="#cb33-6"></a><span class="co">#&gt; | is_retweeted (e/l), media_url (e/x), media_type (e/x), place_url (e/c), place_name (e/c), place_full_name (e/c), place_type (e/c),</span></span>
<span id="cb33-7"><a href="#cb33-7"></a><span class="co">#&gt; | country (e/c), country_code (e/c), bbox_coords (e/x), status_type (e/c)</span></span>
<span id="cb33-8"><a href="#cb33-8"></a><span class="co">#&gt; + edges from e2c9281 (vertex names):</span></span>
<span id="cb33-9"><a href="#cb33-9"></a><span class="co">#&gt;  [1] 952042742         -&gt;6446742    952042742         -&gt;6446742    351245806         -&gt;139823781  351245806         -&gt;260581527 </span></span>
<span id="cb33-10"><a href="#cb33-10"></a><span class="co">#&gt;  [5] 351245806         -&gt;139823781  3343775098        -&gt;2172990199 3343775098        -&gt;2172990199 350722244         -&gt;177410033 </span></span>
<span id="cb33-11"><a href="#cb33-11"></a><span class="co">#&gt;  [9] 350722244         -&gt;177410033  839542094624518144-&gt;39344374   839542094624518144-&gt;146322653  839542094624518144-&gt;39344374  </span></span>
<span id="cb33-12"><a href="#cb33-12"></a><span class="co">#&gt; + ... omitted several edges</span></span></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw"><a href="reference/as_tweet_network.html">as_tweet_network</a></span>(tweet_df,</span>
<span id="cb34-2"><a href="#cb34-2"></a>                 <span class="dt">all_user_data =</span> <span class="ot">TRUE</span>, <span class="dt">all_status_data =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="co">#&gt;   vertices = 6265 </span></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="co">#&gt;   directed = TRUE </span></span>
<span id="cb35-4"><a href="#cb35-4"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb35-5"><a href="#cb35-5"></a><span class="co">#&gt;   loops = TRUE </span></span>
<span id="cb35-6"><a href="#cb35-6"></a><span class="co">#&gt;   multiple = TRUE </span></span>
<span id="cb35-7"><a href="#cb35-7"></a><span class="co">#&gt;   bipartite = FALSE </span></span>
<span id="cb35-8"><a href="#cb35-8"></a><span class="co">#&gt;   total edges= 16373 </span></span>
<span id="cb35-9"><a href="#cb35-9"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb35-10"><a href="#cb35-10"></a><span class="co">#&gt;     non-missing edges= 16373 </span></span>
<span id="cb35-11"><a href="#cb35-11"></a><span class="co">#&gt; </span></span>
<span id="cb35-12"><a href="#cb35-12"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb35-13"><a href="#cb35-13"></a><span class="co">#&gt;     account_created_at account_lang bbox_coords description favourites_count followers_count friends_count listed_count location name.y profile_banner_url profile_image_url profile_url protected screen_name statuses_count timestamp_ms url verified vertex.names </span></span>
<span id="cb35-14"><a href="#cb35-14"></a><span class="co">#&gt; </span></span>
<span id="cb35-15"><a href="#cb35-15"></a><span class="co">#&gt;  Edge attribute names not shown</span></span></code></pre></div>
<div id="two-mode-networks" class="section level2">
<h2 class="hasAnchor">
<a href="#two-mode-networks" class="anchor"></a>Two-Mode Networks</h2>
<p>You can also build two-mode networks by specifying the <code>target_class</code> as <code>"hashtag"</code>s, <code>"url"</code>s, or <code>"media"</code>.</p>
<ul>
<li>Returned <code>&lt;igraph&gt;</code>s will be set as bipartite following <code>{igraph}</code>’s convention of a <code>logical</code> vertex attribute specifying each partition. Accounts are always <code>TRUE</code>.</li>
<li>Returned <code>&lt;network&gt;</code>s will be set as bipartite following <code>{network}</code>’s convention of ordering the “actors” first, and setting the network-level attribute of “bipartite” as the number of “actors”. Accounts are always the “actors”.</li>
</ul>
<p>If bipartite, the returned objects are always set as undirected.</p>
<div id="users-to-hashtags" class="section level3">
<h3 class="hasAnchor">
<a href="#users-to-hashtags" class="anchor"></a>Users to Hashtags</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="kw"><a href="reference/as_tweet_igraph.html">as_tweet_igraph</a></span>(tweet_df, <span class="dt">target_class =</span> <span class="st">"hashtag"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co">#&gt; IGRAPH 4a58095 UN-B 6665 10571 -- </span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="co">#&gt; + attr: name (v/c), type (v/l), status_id (e/c), relation (e/c)</span></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="co">#&gt; + edges from 4a58095 (vertex names):</span></span>
<span id="cb37-4"><a href="#cb37-4"></a><span class="co">#&gt;  [1] 340165454          --ufc244 50229830           --new    50229830           --ufc244 1113359075029295106--ufc244 1120821278410145793--ufc244</span></span>
<span id="cb37-5"><a href="#cb37-5"></a><span class="co">#&gt;  [6] 2945072804         --ufc244 250392181          --ufc244 3427037277         --ufc244 2426567863         --ufc244 1049130232559620096--ufc244</span></span>
<span id="cb37-6"><a href="#cb37-6"></a><span class="co">#&gt; [11] 245455601          --ufc244 895707290          --ufc244 767474462254108674 --ufc244 69783385           --ufc244 850484615978602496 --ufc244</span></span>
<span id="cb37-7"><a href="#cb37-7"></a><span class="co">#&gt; [16] 3223860438         --ufc244 518350072          --ufc244 1128691062225219584--ufc244 158942796          --ufc244 421186669          --ufc244</span></span>
<span id="cb37-8"><a href="#cb37-8"></a><span class="co">#&gt; [21] 781608484257214464 --ufc244 854129173937491968 --ufc244 2519063076         --new    2519063076         --ufc244 361935609          --ufc244</span></span>
<span id="cb37-9"><a href="#cb37-9"></a><span class="co">#&gt; [26] 822180925467398148 --ufc244 1107856314875695105--ufc244 766650582409109505 --ufc244 1401244394         --new    1401244394         --ufc244</span></span>
<span id="cb37-10"><a href="#cb37-10"></a><span class="co">#&gt; [31] 452637226          --ufc244 110374459          --ufc244 1156089078535921665--ufc244 334189052          --ufc244 357793694          --ufc244</span></span>
<span id="cb37-11"><a href="#cb37-11"></a><span class="co">#&gt; [36] 3145789100         --ufc244 4848229454         --ufc244 276788997          --ufc244 1095592508095119366--ufc244 1049130232559620096--ufc244</span></span>
<span id="cb37-12"><a href="#cb37-12"></a><span class="co">#&gt; + ... omitted several edges</span></span></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="kw"><a href="reference/as_tweet_network.html">as_tweet_network</a></span>(tweet_df, <span class="dt">target_class =</span> <span class="st">"hashtag"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="co">#&gt;   vertices = 6665 </span></span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb39-4"><a href="#cb39-4"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb39-5"><a href="#cb39-5"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="co">#&gt;   multiple = TRUE </span></span>
<span id="cb39-7"><a href="#cb39-7"></a><span class="co">#&gt;   bipartite = 6157 </span></span>
<span id="cb39-8"><a href="#cb39-8"></a><span class="co">#&gt;   total edges= 10571 </span></span>
<span id="cb39-9"><a href="#cb39-9"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb39-10"><a href="#cb39-10"></a><span class="co">#&gt;     non-missing edges= 10571 </span></span>
<span id="cb39-11"><a href="#cb39-11"></a><span class="co">#&gt; </span></span>
<span id="cb39-12"><a href="#cb39-12"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb39-13"><a href="#cb39-13"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb39-14"><a href="#cb39-14"></a><span class="co">#&gt; </span></span>
<span id="cb39-15"><a href="#cb39-15"></a><span class="co">#&gt;  Edge attribute names not shown</span></span></code></pre></div>
</div>
<div id="users-to-urls" class="section level3">
<h3 class="hasAnchor">
<a href="#users-to-urls" class="anchor"></a>Users to URLs</h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="kw"><a href="reference/as_tweet_igraph.html">as_tweet_igraph</a></span>(tweet_df, <span class="dt">target_class =</span> <span class="st">"url"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co">#&gt; IGRAPH 3448809 UN-B 1073 1083 -- </span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="co">#&gt; + attr: name (v/c), type (v/l), status_id (e/c), relation (e/c)</span></span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="co">#&gt; + edges from 3448809 (vertex names):</span></span>
<span id="cb41-4"><a href="#cb41-4"></a><span class="co">#&gt; [1] 54342307           --https://twitter.com/jjmast1/status/1190812770951925760                                                              </span></span>
<span id="cb41-5"><a href="#cb41-5"></a><span class="co">#&gt; [2] 822180925467398148 --https://twitter.com/usatoday/status/1190848577171529729                                                             </span></span>
<span id="cb41-6"><a href="#cb41-6"></a><span class="co">#&gt; [3] 1161588424488341504--https://livestreamon.co/ufc244                                                                                      </span></span>
<span id="cb41-7"><a href="#cb41-7"></a><span class="co">#&gt; [4] 1020289868231036929--https://twitter.com/sososfm/status/1190817388176035840                                                              </span></span>
<span id="cb41-8"><a href="#cb41-8"></a><span class="co">#&gt; [5] 222715765          --http://is.gd/BDIHaF                                                                                                 </span></span>
<span id="cb41-9"><a href="#cb41-9"></a><span class="co">#&gt; [6] 700295730          --https://twitter.com/Karlos_ch/status/1190830330703499266                                                            </span></span>
<span id="cb41-10"><a href="#cb41-10"></a><span class="co">#&gt; [7] 1174700278769225730--https://twitter.com/mitchhorowitz/status/1190809746347085824                                                        </span></span>
<span id="cb41-11"><a href="#cb41-11"></a><span class="co">#&gt; [8] 1888701283         --https://www.rawstory.com/2019/11/trump-brutally-mocked-for-getting-booed-like-hell-every-time-he-goes-out-in-public/</span></span>
<span id="cb41-12"><a href="#cb41-12"></a><span class="co">#&gt; + ... omitted several edges</span></span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="kw"><a href="reference/as_tweet_network.html">as_tweet_network</a></span>(tweet_df, <span class="dt">target_class =</span> <span class="st">"url"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="co">#&gt;   vertices = 1073 </span></span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="co">#&gt;   multiple = TRUE </span></span>
<span id="cb43-7"><a href="#cb43-7"></a><span class="co">#&gt;   bipartite = 825 </span></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="co">#&gt;   total edges= 1083 </span></span>
<span id="cb43-9"><a href="#cb43-9"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb43-10"><a href="#cb43-10"></a><span class="co">#&gt;     non-missing edges= 1083 </span></span>
<span id="cb43-11"><a href="#cb43-11"></a><span class="co">#&gt; </span></span>
<span id="cb43-12"><a href="#cb43-12"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb43-13"><a href="#cb43-13"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb43-14"><a href="#cb43-14"></a><span class="co">#&gt; </span></span>
<span id="cb43-15"><a href="#cb43-15"></a><span class="co">#&gt;  Edge attribute names not shown</span></span></code></pre></div>
</div>
<div id="users-to-media" class="section level3">
<h3 class="hasAnchor">
<a href="#users-to-media" class="anchor"></a>Users to Media</h3>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="kw"><a href="reference/as_tweet_igraph.html">as_tweet_igraph</a></span>(tweet_df, <span class="dt">target_class =</span> <span class="st">"media"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co">#&gt; IGRAPH c8ae551 UN-B 3340 3509 -- </span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="co">#&gt; + attr: name (v/c), type (v/l), status_id (e/c), relation (e/c)</span></span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="co">#&gt; + edges from c8ae551 (vertex names):</span></span>
<span id="cb45-4"><a href="#cb45-4"></a><span class="co">#&gt;  [1] 1113359075029295106--http://pbs.twimg.com/tweet_video_thumb/EIa_t4bXYAEFVGR.jpg                             </span></span>
<span id="cb45-5"><a href="#cb45-5"></a><span class="co">#&gt;  [2] 3427037277         --http://pbs.twimg.com/tweet_video_thumb/EIa_t4bXYAEFVGR.jpg                             </span></span>
<span id="cb45-6"><a href="#cb45-6"></a><span class="co">#&gt;  [3] 2426567863         --http://pbs.twimg.com/tweet_video_thumb/EIa_t4bXYAEFVGR.jpg                             </span></span>
<span id="cb45-7"><a href="#cb45-7"></a><span class="co">#&gt;  [4] 1049130232559620096--http://pbs.twimg.com/tweet_video_thumb/EIa_t4bXYAEFVGR.jpg                             </span></span>
<span id="cb45-8"><a href="#cb45-8"></a><span class="co">#&gt;  [5] 767474462254108674 --http://pbs.twimg.com/tweet_video_thumb/EIa_-hyX0AA7j1o.jpg                             </span></span>
<span id="cb45-9"><a href="#cb45-9"></a><span class="co">#&gt;  [6] 850484615978602496 --http://pbs.twimg.com/media/EIa--ZTXUAEP7PH.jpg                                         </span></span>
<span id="cb45-10"><a href="#cb45-10"></a><span class="co">#&gt;  [7] 3223860438         --http://pbs.twimg.com/tweet_video_thumb/EIa_t4bXYAEFVGR.jpg                             </span></span>
<span id="cb45-11"><a href="#cb45-11"></a><span class="co">#&gt;  [8] 158942796          --http://pbs.twimg.com/ext_tw_video_thumb/1190817246110720000/pu/img/jw75ZV3YmtL2PgXT.jpg</span></span>
<span id="cb45-12"><a href="#cb45-12"></a><span class="co">#&gt; + ... omitted several edges</span></span></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="kw"><a href="reference/as_tweet_network.html">as_tweet_network</a></span>(tweet_df, <span class="dt">target_class =</span> <span class="st">"media"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="co">#&gt;   vertices = 3340 </span></span>
<span id="cb47-3"><a href="#cb47-3"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb47-4"><a href="#cb47-4"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb47-5"><a href="#cb47-5"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb47-6"><a href="#cb47-6"></a><span class="co">#&gt;   multiple = TRUE </span></span>
<span id="cb47-7"><a href="#cb47-7"></a><span class="co">#&gt;   bipartite = 2809 </span></span>
<span id="cb47-8"><a href="#cb47-8"></a><span class="co">#&gt;   total edges= 3509 </span></span>
<span id="cb47-9"><a href="#cb47-9"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb47-10"><a href="#cb47-10"></a><span class="co">#&gt;     non-missing edges= 3509 </span></span>
<span id="cb47-11"><a href="#cb47-11"></a><span class="co">#&gt; </span></span>
<span id="cb47-12"><a href="#cb47-12"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb47-13"><a href="#cb47-13"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb47-14"><a href="#cb47-14"></a><span class="co">#&gt; </span></span>
<span id="cb47-15"><a href="#cb47-15"></a><span class="co">#&gt;  Edge attribute names not shown</span></span></code></pre></div>
</div>
</div>
<div id="proto_net" class="section level2">
<h2 class="hasAnchor">
<a href="#proto_net" class="anchor"></a><code>&lt;proto_net&gt;</code>
</h2>
<p>You’re not stuck with going directly to <code>&lt;igraph&gt;</code>s or <code>&lt;network&gt;</code>s though. Underneath the hood, <code><a href="reference/as_tweet_igraph.html">as_tweet_igraph()</a></code> and <code><a href="reference/as_tweet_network.html">as_tweet_network()</a></code> use <code><a href="reference/as_proto_net.html">as_proto_net()</a></code> to build a <code>&lt;proto_net&gt;</code>, a list of edge and node data frames.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="kw"><a href="reference/as_proto_net.html">as_proto_net</a></span>(tweetio_df,</span>
<span id="cb48-2"><a href="#cb48-2"></a>             <span class="dt">all_status_data =</span> <span class="ot">TRUE</span>, <span class="dt">all_user_data =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb49"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="co">#&gt; $edges</span></span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="co">#&gt; # A tibble: 181,842 x 20</span></span>
<span id="cb49-3"><a href="#cb49-3"></a><span class="co">#&gt;    from  to    status_id relation created_at          text  status_url source is_quote is_retweeted media_url media_type place_url place_name</span></span>
<span id="cb49-4"><a href="#cb49-4"></a><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;dttm&gt;              &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;lgl&gt;    &lt;lgl&gt;        &lt;list&gt;    &lt;list&gt;     &lt;chr&gt;     &lt;chr&gt;     </span></span>
<span id="cb49-5"><a href="#cb49-5"></a><span class="co">#&gt;  1 1717… 2605… 11908699… retweet  2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-6"><a href="#cb49-6"></a><span class="co">#&gt;  2 1717… 2605… 11908699… mentions 2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-7"><a href="#cb49-7"></a><span class="co">#&gt;  3 2338… 3700… 11908699… retweet  2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-8"><a href="#cb49-8"></a><span class="co">#&gt;  4 2338… 3700… 11908699… mentions 2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-9"><a href="#cb49-9"></a><span class="co">#&gt;  5 7568… 1062… 11908699… retweet  2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-10"><a href="#cb49-10"></a><span class="co">#&gt;  6 7568… 1062… 11908699… mentions 2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-11"><a href="#cb49-11"></a><span class="co">#&gt;  7 2899… 6446… 11908699… retweet  2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-12"><a href="#cb49-12"></a><span class="co">#&gt;  8 2899… 6446… 11908699… mentions 2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-13"><a href="#cb49-13"></a><span class="co">#&gt;  9 2899… 5218… 11908699… mentions 2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-14"><a href="#cb49-14"></a><span class="co">#&gt; 10 7889… 1667… 11908699… retweet  2019-11-03 05:55:01 "RT … https://t… Twitt… FALSE    FALSE        &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;NA&gt;      &lt;NA&gt;      </span></span>
<span id="cb49-15"><a href="#cb49-15"></a><span class="co">#&gt; # … with 181,832 more rows, and 6 more variables: place_full_name &lt;chr&gt;, place_type &lt;chr&gt;, country &lt;chr&gt;, country_code &lt;chr&gt;, bbox_coords &lt;list&gt;,</span></span>
<span id="cb49-16"><a href="#cb49-16"></a><span class="co">#&gt; #   status_type &lt;chr&gt;</span></span>
<span id="cb49-17"><a href="#cb49-17"></a><span class="co">#&gt; </span></span>
<span id="cb49-18"><a href="#cb49-18"></a><span class="co">#&gt; $nodes</span></span>
<span id="cb49-19"><a href="#cb49-19"></a><span class="co">#&gt; # A tibble: 50,863 x 20</span></span>
<span id="cb49-20"><a href="#cb49-20"></a><span class="co">#&gt;    name  timestamp_ms        name.y screen_name location description url   protected followers_count friends_count listed_count statuses_count</span></span>
<span id="cb49-21"><a href="#cb49-21"></a><span class="co">#&gt;    &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt; &lt;lgl&gt;               &lt;int&gt;         &lt;int&gt;        &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb49-22"><a href="#cb49-22"></a><span class="co">#&gt;  1 1000… 2019-11-03 04:53:06 ᴇʟ ᴊᴜ… Urbeaner_   "Colora… UCCS ‘21 |… &lt;NA&gt;  FALSE                 158           250            3          16695</span></span>
<span id="cb49-23"><a href="#cb49-23"></a><span class="co">#&gt;  2 1000… 2019-11-03 05:24:27 adrie… a2rien_     "DTM 😇" &lt;NA&gt;        &lt;NA&gt;  FALSE                 161           124            0           1046</span></span>
<span id="cb49-24"><a href="#cb49-24"></a><span class="co">#&gt;  3 1000… 2019-11-03 05:08:38 Adee   SailorSlim  "Freepo… Instagram:… &lt;NA&gt;  FALSE                  54            24            0           1571</span></span>
<span id="cb49-25"><a href="#cb49-25"></a><span class="co">#&gt;  4 1000… 2019-11-03 05:13:37 me, m… Amanda8728… "Usa "   take your … &lt;NA&gt;  FALSE                  28           243            0            982</span></span>
<span id="cb49-26"><a href="#cb49-26"></a><span class="co">#&gt;  5 1000… 2019-11-03 04:49:04 hoodi… eghoops1    "htx"    shoot hoop… http… FALSE                 838           258           27          63978</span></span>
<span id="cb49-27"><a href="#cb49-27"></a><span class="co">#&gt;  6 1000… 2019-11-03 05:19:56 Dylan… CieslikDyl… "Oak Ri… Aspiring B… &lt;NA&gt;  FALSE                  38           137            0           2853</span></span>
<span id="cb49-28"><a href="#cb49-28"></a><span class="co">#&gt;  7 1000… 2019-11-03 04:37:22 ThomT… ThomThom715  &lt;NA&gt;    &lt;NA&gt;        &lt;NA&gt;  FALSE                   3            30            0           1358</span></span>
<span id="cb49-29"><a href="#cb49-29"></a><span class="co">#&gt;  8 1000… 2019-11-03 05:01:53 Conor… CnrKgh2809  "Irelan… •Liverpool… &lt;NA&gt;  FALSE                  70           769            0           1935</span></span>
<span id="cb49-30"><a href="#cb49-30"></a><span class="co">#&gt;  9 1000… 2019-11-03 04:55:38 Straw… JorgeAReyn… "Hollis… WORK HARD,… &lt;NA&gt;  FALSE                  20           396            0            789</span></span>
<span id="cb49-31"><a href="#cb49-31"></a><span class="co">#&gt; 10 1000… 2019-11-03 04:52:11 Rocio  rociofbaby  "Texas"  27 ♊️ A•L•… &lt;NA&gt;  FALSE                 464           629            3          21483</span></span>
<span id="cb49-32"><a href="#cb49-32"></a><span class="co">#&gt; # … with 50,853 more rows, and 8 more variables: favourites_count &lt;int&gt;, account_created_at &lt;dttm&gt;, verified &lt;lgl&gt;, profile_url &lt;chr&gt;,</span></span>
<span id="cb49-33"><a href="#cb49-33"></a><span class="co">#&gt; #   account_lang &lt;chr&gt;, profile_banner_url &lt;chr&gt;, profile_image_url &lt;chr&gt;, bbox_coords &lt;list&gt;</span></span>
<span id="cb49-34"><a href="#cb49-34"></a><span class="co">#&gt; </span></span>
<span id="cb49-35"><a href="#cb49-35"></a><span class="co">#&gt; attr(,"class")</span></span>
<span id="cb49-36"><a href="#cb49-36"></a><span class="co">#&gt; [1] "proto_net"</span></span>
<span id="cb49-37"><a href="#cb49-37"></a><span class="co">#&gt; attr(,"target_class")</span></span>
<span id="cb49-38"><a href="#cb49-38"></a><span class="co">#&gt; [1] "user"</span></span></code></pre></div>
</div>
</div>
<div id="progress" class="section level1">
<h1 class="hasAnchor">
<a href="#progress" class="anchor"></a>Progress</h1>
<div id="supported-data-inputs" class="section level3">
<h3 class="hasAnchor">
<a href="#supported-data-inputs" class="anchor"></a>Supported Data Inputs</h3>
<ul>
<li>
<input type="checkbox" disabled checked>
Twitter API streams: .json, .json.gz</li>
<li>
<input type="checkbox" disabled checked>
API to Elasticsearch data dump (JSON Array): .json, .json.gz</li>
<li>
<input type="checkbox" disabled checked>
API to Elasticsearch data dump (line-delimited JSON): .jsonl, .jsonl.gz</li>
</ul>
</div>
<div id="supported-data-outputs" class="section level3">
<h3 class="hasAnchor">
<a href="#supported-data-outputs" class="anchor"></a>Supported Data Outputs</h3>
<ul>
<li>
<input type="checkbox" disabled checked>
CSV</li>
<li>
<input type="checkbox" disabled checked>
Excel</li>
<li>
<input type="checkbox" disabled checked>
Gephi-friendly GraphML</li>
</ul>
</div>
<div id="structures" class="section level3">
<h3 class="hasAnchor">
<a href="#structures" class="anchor"></a>Structures</h3>
<ul>
<li>
<input type="checkbox" disabled checked><code>{rtweet}</code>-style data frames</li>
<li>
<input type="checkbox" disabled checked>
Spatial Tweets via <code>{sf}</code>
</li>
<li>
<input type="checkbox" disabled checked>
Tweet networks via <code>{igraph}</code>
</li>
<li>
<input type="checkbox" disabled checked>
Tweet networks via <code>{network}</code>
</li>
</ul>
</div>
</div>
<div id="shout-outs" class="section level1">
<h1 class="hasAnchor">
<a href="#shout-outs" class="anchor"></a>Shout Outs</h1>
<p>The <a href="https://rtweet.info/"><code>{rtweet}</code></a> package <strong>spoils R users rotten</strong>, in the best possible way. The underlying data carpentry is so seamless that the user doesn’t need to know anything about the horrors of Twitter data, which is pretty amazing. If you use <code>{rtweet}</code>, you probably owe <a href="https://twitter.com/kearneymw">Michael Kearney</a> some <a href="https://github.com/mkearney/rtweet_citations">citations</a>. If he hadn’t developed a way to sensibly structure tweet data frames in R, <code>{tweetio}</code> would’ve never happened.</p>
<p><code>{tweetio}</code> uses a combination of C++ via <a href="http://www.rcpp.org/"><code>{Rcpp}</code></a>, the <a href="http://rapidjson.org/"><code>rapidjson</code></a> C++ library (made available by <a href="https://cran.r-project.org/web/packages/rapidjsonr/index.html"><code>{rapidjsonr}</code></a>), <a href="https://cran.r-project.org/web/packages/jsonify/index.html"><code>{jsonify}</code></a>) for an R-level interface to <code>rapidjson</code>, <a href="https://cran.r-project.org/web/packages/RcppProgress/index.html"><code>{RcppProgress}</code></a>), and <strong>R’s not-so-secret super weapon</strong>: <a href="https://rdatatable.gitlab.io/data.table/"><code>{data.table}</code></a>.</p>
<p>Major inspiration from <a href="https://gitlab.com/hrbrmstr/ndjson"><code>{ndjson}</code></a> was taken, particularly its use of <a href="https://www.cs.unc.edu/Research/compgeom/gzstream/"><code>Gzstream</code></a>.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/knapply/tweetio">https://​github.com/​knapply/​tweetio</a>
</li>
<li>Report a bug at <br><a href="https://github.com/knapply/tweetio/issues">https://​github.com/​knapply/​tweetio/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing tweetio</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Brendan Knapp <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3284-4972" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://gitter.im/tweetio/community?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/tweetio/community.svg" alt="Gitter"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle"></a></li>
<li><a href="https://ci.appveyor.com/project/knapply/tweetio"><img src="https://ci.appveyor.com/api/projects/status/github/knapply/tweetio?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://travis-ci.org/knapply/tweetio"><img src="https://travis-ci.org/knapply/tweetio.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/gh/knapply/tweetio?branch=master"><img src="https://codecov.io/gh/knapply/tweetio/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/knapply/tweetio/commits/master"><img src="https://img.shields.io/github/last-commit/knapply/tweetio.svg" alt="GitHub last commit"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3"></a></li>
<li><a href="https://www.r-project.org/"><img src="https://img.shields.io/badge/Depends-GNU_R%3E=3.3-blue.svg" alt="Depends"></a></li>
<li><a href="https://cran.r-project.org/package=tweetio"><img src="https://www.r-pkg.org/badges/version/tweetio" alt="CRAN status"></a></li>
<li><a href="https://github.com/knapply/tweetio"><img src="https://img.shields.io/github/languages/code-size/knapply/tweetio.svg" alt="GitHub code size in bytes"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Brendan Knapp.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
